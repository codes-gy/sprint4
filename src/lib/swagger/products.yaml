paths:
    # 1. 상품 목록 조회 및 등록
    /products:
        get:
            tags:
                - Products
            summary: 상품 목록 조회
            description: 전체 상품 목록을 페이지네이션 및 키워드 검색을 통해 조회합니다.
            parameters:
                - in: query
                  name: page
                  schema: { type: integer, default: 1 }
                  description: 페이지 번호
                - in: query
                  name: pageSize
                  schema: { type: integer, default: 10 }
                  description: 한 페이지에 보여줄 개수
                - in: query
                  name: orderBy
                  schema: { type: string, enum: [recent, oldest], default: recent }
                  description: '정렬 기준 (recent: 최신순, oldest: 오래된순)'
                - in: query
                  name: keyword
                  schema: { type: string }
                  description: 상품명 또는 설명 검색 키워드
            responses:
                200:
                    description: 상품 목록 반환 성공
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    list:
                                    type: array
                                    items:
                                        type: object
                                        properties:
                                            id: { type: integer, example: 101 }
                                            name: { type: string, example: '빈티지 카메라' }
                                            description:
                                                {
                                                    type: string,
                                                    example: '상태 좋은 중고 카메라입니다.',
                                                }
                                            price: { type: integer, example: 150000 }
                                            tags:
                                                {
                                                    type: array,
                                                    items: { type: string },
                                                    example: ['전자제품', '취미'],
                                                }
                                            images:
                                                {
                                                    type: array,
                                                    items: { type: string },
                                                    example: ['https://example.com/cam.jpg'],
                                                }
                                            userId: { type: integer, example: 5 }
                                            createdAt: { type: string, format: date-time }
                                            updatedAt: { type: string, format: date-time }
                                        totalCount: { type: integer, example: 45 }
        post:
            tags:
                - Products
            summary: 상품 등록
            description: 로그인한 유저만 상품을 등록할 수 있습니다.
            security:
                - bearerAuth: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            required: [name, description, price]
                            properties:
                                name: { type: string, example: '미개봉 아이패드' }
                                description:
                                    {
                                        type: string,
                                        example: '구매 후 한 번도 열지 않은 새 상품입니다.',
                                    }
                                price: { type: integer, example: 800000 }
                                tags:
                                    {
                                        type: array,
                                        items: { type: string },
                                        example: ['IT', '태블릿'],
                                    }
                                images: { type: array, items: { type: string } }

            responses:
                201:
                    description: 상품 등록 성공
                401:
                    description: 인증 실패

    # 2. 내가 좋아요 한 상품 목록
    /products/like/list:
        get:
            tags:
                - Products
            summary: 내가 좋아요 한 상품 목록 조회
            security:
                - bearerAuth: []
            responses:
                200:
                    description: 좋아요 한 상품 배열 반환
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    type: object
                                    properties:
                                        id: { type: integer }
                                        name: { type: string }
                                        price: { type: integer }
                                        images: { type: array, items: { type: string } }

    # 3. 상품 상세 조회, 수정, 삭제
    /products/{id}:
        parameters:
            - in: path
              name: id
              required: true
              schema: { type: integer }
        get:
            tags:
                - Products
            summary: 상품 상세 조회
            responses:
                200:
                    description: 상품 상세 정보 반환
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id: { type: integer, example: 101 }
                                    name: { type: string }
                                    description: { type: string }
                                    price: { type: integer }
                                    tags: { type: array, items: { type: string } }
                                    images: { type: array, items: { type: string } }
                                    userId: { type: integer }
                                    createdAt: { type: string, format: date-time }
                404:
                    description: 상품을 찾을 수 없음

        patch:
            tags:
                - Products
            summary: 상품 정보 수정
            description: 상품을 등록한 유저만 정보를 수정할 수 있습니다.
            security:
                - bearerAuth: []
            requestBody:
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                name: { type: string }
                                description: { type: string }
                                price: { type: integer }
                                tags: { type: array, items: { type: string } }
                                images: { type: array, items: { type: string } }
            responses:
                200:
                    description: 수정 성공
                403:
                    description: 본인의 상품이 아님
                404:
                    description: 상품 없음

        delete:
            tags:
                - Products
            summary: 상품 삭제
            description: 상품을 등록한 유저만 삭제할 수 있습니다.
            security:
                - bearerAuth: []
            responses:
                204:
                    description: '삭제 성공 (응답 바디 없음)'
                403:
                    description: 본인의 상품이 아님

    # 4. 상품 좋아요 토글
    /products/{id}/like:
        post:
            tags:
                - Products
            summary: 상품 좋아요/취소 토글
            security:
                - bearerAuth: []
            parameters:
                - in: path
                  name: id
                  required: true
                  schema: { type: integer }
            responses:
                200:
                    description: '좋아요 취소됨 (isLiked: false)'
                    content:
                    application/json:
                        schema:
                        type: object
                        properties:
                        isLiked: { type: boolean, example: false }
                201:
                    description: '좋아요 등록됨 (isLiked: true)'
                    content:
                    application/json:
                        schema:
                        type: object
                        properties:
                        isLiked: { type: boolean, example: true }

    # 5. 상품 댓글 작성 및 목록 조회
    /products/{id}/comments:
        parameters:
            - in: path
              name: id
              required: true
              schema: { type: integer }
        get:
            tags:
                - Comments
            summary: 상품 댓글 목록 조회
            parameters:
                - in: query
                  name: cursor
                  schema: { type: integer }
                  description: '커서 (마지막 댓글 ID)'
                - in: query
                  name: limit
                  schema: { type: integer, default: 10 }
            responses:
                200:
                    description: 댓글 목록 반환
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    list:
                                        type: array
                                        items:
                                            type: object
                                            properties:
                                                id: { type: integer, example: 1 }
                                                content:
                                                    { type: string, example: '아직 판매 중인가요?' }
                                                productId: { type: integer, example: 101 }
                                                userId: { type: integer, example: 12 }
                                                createdAt: { type: string, format: date-time }
                                            nextCursor:
                                                { type: integer, nullable: true, example: 25 }

        post:
            tags:
                - Comments
            summary: 상품에 댓글 작성
            security:
                - bearerAuth: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            required: [content]
                            properties:
                                content:
                                    { type: string, example: '구매 희망합니다. 네고 가능한가요?' }
            responses:
                201:
                    description: 댓글 작성 성공
